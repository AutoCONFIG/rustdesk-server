From 9ef16649ba0bbaaaf1208b5f67075c1adcfb4dbe Mon Sep 17 00:00:00 2001
From: Yun Wang <maoerpet@foxmail.com>
Date: Tue, 25 Feb 2025 23:10:36 +0800
Subject: [PATCH] update

---
 src/hbbr.rs | 8 +++++++-
 src/main.rs | 8 +++++++-
 2 files changed, 14 insertions(+), 2 deletions(-)

diff --git a/src/hbbr.rs b/src/hbbr.rs
index 4c8a784..e13cc98 100644
--- a/src/hbbr.rs
+++ b/src/hbbr.rs
@@ -8,7 +8,13 @@ mod version;
 
 fn main() -> ResultType<()> {
     let _logger = Logger::try_with_env_or_str("info")?
-        .log_to_stdout()
+        .log_to_file(
+            FileSpec::default()
+                .directory("/var/run/rustdesk-server")
+                .basename("hbbr")
+                .suppress_timestamp()
+                .suffix("log")
+        )
         .format(opt_format)
         .write_mode(WriteMode::Async)
         .start()?;
diff --git a/src/main.rs b/src/main.rs
index 8a0ff24..e4449e4 100644
--- a/src/main.rs
+++ b/src/main.rs
@@ -9,7 +9,13 @@ const RMEM: usize = 0;
 
 fn main() -> ResultType<()> {
     let _logger = Logger::try_with_env_or_str("info")?
-        .log_to_stdout()
+        .log_to_file(
+            FileSpec::default()
+                .directory("/var/run/rustdesk-server")
+                .basename("hbbr")
+                .suffix("log")
+                .suppress_timestamp()
+        )
         .format(opt_format)
         .write_mode(WriteMode::Async)
         .start()?;
-- 
2.48.1.windows.1

